## ⚠️ Archived Project

This repository has been archived and is no longer receiving public updates on github.

**The code remains available under the MIT License** for use, modification, and distribution according to its terms.

Development continues in a private version. If you're interested in commercial licensing or collaboration, feel free to reach out at @michidevcl on discord

Thank you to everyone who used and contributed to this project! 

# Ecotale - Economy Plugin for Hytale

A complete economy system plugin for Hytale servers with persistent storage, customizable HUD, and multi-language support.

![Version](https://img.shields.io/badge/version-1.0.3-blue)
![Author](https://img.shields.io/badge/author-Tera--bytez-purple)

## Screenshots

### Balance HUD
On-screen balance display with smart formatting (K, M, B)

![Balance HUD](docs/screenshots/balance_hud.png)

### Admin Panel
Complete economy management GUI with Dashboard, Players, Top, Log, and Config tabs

![Admin Dashboard](docs/screenshots/admin_dashboard.png)

![Admin Players](docs/screenshots/admin_players.png)

![Admin Log](docs/screenshots/admin_log.png)

### Configuration
Real-time config editing with multi-language support

![Admin Config](docs/screenshots/admin_config.png)

### Pay GUI
Player-to-player payment interface

![Pay GUI](docs/screenshots/pay_gui.png)

## Features

### Core Economy
- **Player Balances** - Persistent balance storage with H2/MySQL database
- **Transfers** - Player-to-player payments with configurable fees
- **Admin Controls** - Full economy management GUI

### User Interface
- **Balance HUD** - On-screen balance display with smart formatting (K, M, B)
- **Admin Panel** - Complete GUI with tabs for Dashboard, Players, Top, Log, Config
- **Multi-language** - 8 languages: English, Spanish, Portuguese, French, German, Russian, Japanese, Chinese

### Technical
- **Thread-safe** - Per-player locking for atomic operations
- **Multiple Storage Options** - H2 (default), JSON, or MySQL for shared databases
- **API** - Public API for other plugins with rate limiting
- **Events** - Cancellable events for balance changes and transactions
- **All-in-one JAR** - No external dependencies required

---

## Addon Mods

Extend Ecotale with these companion plugins:

### EcotaleMarket - Market System
A complete player-driven economy marketplace for Hytale servers. Buy and sell items globally with a user-friendly UI.

![EcotaleMarket Preview](docs/screenshots/market_sell.gif)

![EcotaleMarket Preview](docs/screenshots/market_buy.gif)

### EcotaleCoins - Physical Currency
Transform your virtual economy into a tangible experience with physical coin items.

![EcotaleCoins Preview](docs/screenshots/ecotalecoins_preview.gif)

**Features:**
- 6 coin denominations (Copper → Adamantite)
- Physical loot drops from mobs
- Bank system for secure storage (`/bank`)
- Risk/reward: coins drop on death

[Download EcotaleCoins](https://github.com/Tera-bytez/EcotaleCoins)

### EcotaleJobs - Reward System
Earn currency through gameplay activities.

![EcotaleJobs Preview](docs/screenshots/ecotalejobs_preview.gif)

**Features:**
- Mining rewards with Vein Streak system
- Mob kill rewards (all NPCs auto-classified)
- VIP multipliers (permission-based)
- Anti-farm protection

[Download EcotaleJobs](https://github.com/Tera-bytez/EcotaleJobs)

---

## Installation

1. Download `Ecotale-1.0.3.jar`
2. Place in your Hytale `mods/` folder
3. Restart server

## Commands

| Command | Description | Permission |
|---------|-------------|------------|
| `/balance` | View your balance | None (all players) |
| `/pay` | Open Pay GUI | None (all players) |
| `/pay <player> <amount>` | Send money to another player | None (all players) |
| `/eco` | Open admin panel GUI | `ecotale.ecotale.command.eco` |
| `/eco give <player> <amount>` | Give money | `ecotale.ecotale.command.eco` |
| `/eco take <player> <amount>` | Take money | `ecotale.ecotale.command.eco` |
| `/eco set <player> <amount>` | Set balance | `ecotale.ecotale.command.eco` |
| `/eco reset <player>` | Reset to starting balance | `ecotale.ecotale.command.eco` |

## Permissions

| Permission | Description | Default |
|------------|-------------|---------|
| `ecotale.ecotale.command.bal` | Access to /balance command | All players (Adventure mode) |
| `ecotale.ecotale.command.pay` | Access to /pay command | All players (Adventure mode) |
| `ecotale.ecotale.command.eco` | Access to /eco admin commands | **Admin only** |

> **Note:** Permissions are auto-generated by Hytale's command system using the format `{group}.{plugin}.command.{command}`.

### Important: LuckPerms Override Behavior

**If you install LuckPerms** (or other permission plugins), Hytale's default Adventure mode permissions are **overridden**. This means commands that normally work for all players will be blocked until you explicitly grant permissions.

#### Quick Fix for All Players
```bash
# Grant basic economy commands to everyone
/lp group default permission set ecotale.ecotale.command.bal true
/lp group default permission set ecotale.ecotale.command.pay true

# Grant admin commands to staff only
/lp group admin permission set ecotale.ecotale.command.eco true
```

#### Testing Permissions
```bash
# Check if a player has permission
/lp user <username> permission check ecotale.ecotale.command.bal

# View all permissions for a player
/lp user <username> permission info
```

## Configuration

Located in `mods/Ecotale_Ecotale/Ecotale.json`:

```json
{
  "CurrencySymbol": "$",
  "CurrencyName": "Coins",
  "StartingBalance": 100.0,
  "MaxBalance": 1000000000.0,
  "TransferFee": 0.05,
  "DecimalPlaces": 2,
  "EnableHudDisplay": true,
  "Language": "en-US",
  "StorageProvider": "h2"
}
```

### Storage Providers

| Provider | Use Case |
|----------|----------|
| `h2` | Default, single server, fastest |
| `json` | Human-readable files, debugging |
| `mysql` | Shared database across servers |

## Supported Languages

| Code | Language |
|------|----------|
| en-US | English |
| es-ES | Espanol |
| pt-BR | Portugues |
| fr-FR | Francais |
| de-DE | Deutsch |
| ru-RU | Russian |

![Translations](docs/screenshots/translations.gif)

## Building from Source

```bash
./gradlew shadowJar
```

Output: `build/libs/Ecotale-1.0.3.jar`

## API Usage

```java
import com.ecotale.api.EcotaleAPI;

// Get balance
double balance = EcotaleAPI.getBalance(playerUuid);

// Deposit/Withdraw
EcotaleAPI.deposit(playerUuid, 100.0, "Quest reward");
EcotaleAPI.withdraw(playerUuid, 50.0, "Shop purchase");

// Transfer
EcotaleAPI.transfer(fromUuid, toUuid, 100.0, "Trade");
```

See [docs/API.md](docs/API.md) for full API documentation.

## License

MIT License - 2026 Tera-bytez
